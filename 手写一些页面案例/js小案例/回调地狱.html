<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>回调地狱</title>
</head>
<body>
</body>
<script>
    //为了解决回调地狱的问题出现了promise语法进行封装，不在使用回调函数进行封装。
    var xml = new XMLHttpRequest()
    xml.open('GET','http://localhost:8888/test/first')
    xml.onload=function(){
        console.log('第一次请求的结果')
        console.log(xml.responseText);
        var xml = new XMLHttpRequest();
        xml.open('GET','http://localhost:8888/test/second')
        xml.onload=function(){
            console.log('第二次请求的结果')
            console.log(xml.responseText);
            var xml = new XMLHttpRequest()
                xml.open('GET','http://localhost:8888/test/three');
                xml.onload=function(){
                    console.log('第三次请求的结果')
                    console.log(xml.responseText);
                        var xml = new XMLHttpRequest()
                        xml.open('GET','http://localhost:8888/test/four')
                        xml.onload=function(){
                            console.log('第四次请求的结果')
                            console.log(xml.responseText);
                            var xml = new XMLHttpRequest()
                            xml.open('GET','http://localhost:8888/test/five')
                            xml.onload=function(){
                                console.log('第五次请求的结果')
                                console.log(xml.responseText);
                            }
                            xml.send();
                        }
                        xml.send();
                }
                xml.send();
        }
        xml.send();
    }
    xml.send();
</script>
</html>